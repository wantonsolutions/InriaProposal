\section{model}
\label{sec:model}

In the following section we describe our model of a distributed system, and
state machine. We then further extend our state machine model to a relaxed
version.


\subsection{System Model}

\noindent\textbf{Execution}: An execution of a distributed program is defined as a set
of $n$ processes $P_1, P_2, \dots P_n$ all of which execute the same source
code, with potentially different configurations.

\noindent\textbf{Process State}: The state $s$ of any process $P$ during an
execution is the set of m variables $v$ where $s = \{ v_1, v_2, \dots v_m \}$,
including the program counter.  All processes share a unique initial state
$s_0$.

\noindent\textbf{Event}: The set of events $E$ is a finite alphabet of events which can
be generated by any process. Our model restricts events to 3 general types
\textit{Sending, Receiving, and Local}.

\noindent\textbf{Event State}: Event state $C$ (channel state) is a set of 1 or more
variable values associated with an event. The state of a sending or receiving
event, is the set of all transmitted variables. The event state of a local
event, is the prior state of the process $P$.

\noindent\textbf{Trace}: A trace $T$ of process $P_i$ is the sequence of $k$ (State,
Event) pairs $T_i = {(s_0:e_0),(s_1,:e_1), \dots ,(s_k,e_k)}$.

\noindent\textbf{Trace Matrix}: A trace matrix $M$, is an $n$,$m$ matrix in which index
$i$,$j$ is the trace generated by process $j$ on execution $i$.

\subsection{FSM Model}

\noindent\textbf{State Matching} $\forall i,j$ $s_i = s_j \iff \forall v \in s$, $v_{i,k} = v_{j,k}$.

\noindent\textbf{Event Matching} $\forall i,j$ $e_i = e_j \iff \forall v \in s$, $v_{i,k} = v_{j,k} \wedge$ event Type $e_i == $ eventType $e_j$.

\noindent\textbf{Node} A unique node $n$ exists for all sets of matching states.

\noindent\textbf{Edge} A directed edge is defined as the triple $(s_i, e,
s_j)$. An edge exists between two nodes $n_k, n_l \iff \exists$ trace $T$ which
contains $(s_i:e_i),(s_{i+1}:e_{i+1})$. Two edges match if their states, and event
match.

\subsection{Relaxed FSM}

\noindent\textbf{Relaxed State Matching} states $s_i, s_j$ match $iff \exists
rs \in s$ where $rs_i$ matches $rs_j$ and $|s| - |rs| \geq k$.

\noindent\textbf{Relaxed Event Matching} events $e_i, e_j$ match $iff \exists
re \in c$ where $re_i$ matches $re_j$ and $|e| - |re| \geq l$.

